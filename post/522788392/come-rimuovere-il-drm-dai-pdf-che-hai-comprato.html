<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <title>Come rimuovere il DRM dai PDF che hai comprato - Riccardo Marotti</title>

  <meta name="description" content="">
  <meta name="author" content="Riccardo Marotti">
  <meta property="og:type" content="blog">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="alternate" href="http://blog.riccardomarotti.com/feeds/all.atom.xml" type="application/atom+xml">

  <link rel="stylesheet" href="http://blog.riccardomarotti.com/theme/base.css">
  <link rel="stylesheet" href="http://blog.riccardomarotti.com/theme/skeleton.css">
  <link rel="stylesheet" href="http://blog.riccardomarotti.com/theme/styles.css">
  <link rel="stylesheet" href="http://blog.riccardomarotti.com/theme/pygment.css">
  <link rel="shortcut icon" href="/images/favicon.ico">
  <script src="/modernizr-min.js"></script>  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3732155-8']);
    _gaq.push(['_setDomainName', 'none']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>

<header>
  <div class="container">
    <div class="eleven columns">
      <h1>
        <a href="http://blog.riccardomarotti.com">
            <img src="/images/logo.png" style="background: transparent; box-shadow: none;" alt="">
            Riccardo Marotti</a>
      </h1>
    </div>
    <div class="five columns">
      <h1>
        <a href="http://music.riccardomarotti.com">My Music</a>
      </h1>
    </div>
  </div>
</header>

  <div class="container">

    <section class="row">
      <div class="sixteen columns">
	<h5> Posts </h5>
        <h2 class="section"></h2>
  

  <article class="hentry">

    <div class="entry-header">
      <abbr class="published" title="2010-04-15T00:00:00+02:00">
        April 15, 2010
      </abbr>
      <h2 class="instapaper_title">Come rimuovere il DRM dai PDF che hai comprato</h2>
    </div>
    <div class="instapaper_body entry-content">
    <blockquote>
<p><strong>UPDATE</strong> (Nov 2012): <a href="http://lifehacker.com/5954466/how-do-i-get-rid-of-the-drm-on-my-ebooks-and-video">questo articolo</a> spiega come rimuovere le protezioni utilizzando <a href="http://calibre-ebook.com">calibre</a>, in modo più semplice rispetto a quanto spiegato in questo post.</p>
</blockquote>
<p>Ieri ho comprato un ebook su <a href="http://www.bookdepository.co.uk/">Book Depository</a>. Visto che come formato indicava PDF, supponevo di poterlo leggere col vecchio caro <a href="http://en.wikipedia.org/wiki/Preview_(software)">Preview</a>.</p>
<p>Invece, <strong>solo dopo averlo pagato</strong>, al momento del download, vengo informato di due cose sconcertanti:</p>
<ul>
<li>in quanto DRM munito, per leggere quel pdf serve Adobe Digital Editions (software notoriamente raccapricciante)</li>
<li>posso scaricarlo al massimo 3 volte</li>
</ul>
<p>A questo punto, dopo una <a href="http://www.gametrailers.com/user-movie/homer-simpson-angry/89292">breve incazzatura galattica</a> (il libro l’ho pagato 30 euro), decido che l’unica soluzione razionale è rimuovere il DRM dal pdf.</p>
<p>La cosa, in realtà, è di una semplicità eclatante, a dimostrazione di quanto sia utile e fondamentale il DRM<sup id="fnref-1"><a class="footnote-ref" href="#fn-1">1</a></sup>.</p>
<p>Ho trovato <a href="http://imaddicted.ca/ebooks/using-inept-to-strip-drm/">questo</a> articolo, che spiega come fare, solo che non funzionava: “error decrypting book session key”. Allora ho indagato ancora po’ e ho scoperto che bastava una versione più aggiornata degli script che suggeriva di usare.</p>
<p>In sostanza, per poter decrittare i pdf, servono:</p>
<ol>
<li><strike>Windows :( (purtroppo gli script richiedono windll…) </strike></li>
<li><a href="http://www.python.it/download/">Python</a> installato</li>
<li><a href="http://www.voidspace.org.uk/python/modules.shtml#pycrypto">Pycrypto</a> installato</li>
<li>Questi due script: <a href="http://pastebin.com/sQSNwN8B">ineptpdf.pyw</a>, <a href="http://pastebin.com/HbHbebqY">ineptkey.pyw</a> (<a href="http://pastebin.com/f1182324a">ineptkeymac.py</a> su Mac) <sup id="fnref-2"><a class="footnote-ref" href="#fn-2">2</a></sup></li>
<li>Un’installazione di Adobe Digital Editions con registrato l’utente con cui si è scaricato il pdf</li>
</ol>
<p>A questo punto, dopo aver messo gli script e il pdf in una qualunque directory (per esempio c:\pdf), si esegue, da una command line in quella directory, ineptkey.pyw per ottenere la chiave dell’utente.</p>
<p><img alt="image1" src="/images/drm-1.png"></p>
<p>Poi si esegue <code>ineptpdf.pyw</code></p>
<p><img alt="image2" src="/images/drm-2.png"></p>
<p>inserendo il file contenente la chiave, il pdf protetto e il nome del file di output:</p>
<p><img alt="image3" src="/images/drm-3.png"></p>
<p>Premere Decrypt.</p>
<p>Fatto.</p>
<div class="footnote">
<hr>
<ol>
<li id="fn-1">
<p>Su <a href="http://pragprog.com/">questo</a> sito vendono libri tecnici senza DRM. Sono certo che loro non hanno problemi economici dovuti a questa assenza.&#160;<a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn-2">
<p>Grazie a Lance che ha suggerito l’utilizzo di questo script su Mac, sotto nei commenti.&#160;<a class="footnote-backref" href="#fnref-2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div>
    
    <div class="metadata">
    
      <address class="vcard author">
        By <a class="url fn" href="http://blog.riccardomarotti.com/author/Riccardo Marotti.html">Riccardo Marotti</a>
      </address>
    
      <p>
        Posted in <em><a href="http://blog.riccardomarotti.com/category/tips">Tips</a></em>
      </p>
    

    </div>
  
    <hr>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
       var disqus_identifier = "post/522788392/come-rimuovere-il-drm-dai-pdf-che-hai-comprato";
       (function() {
       var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
       dsq.src = 'http://riccardomarotti.disqus.com/embed.js';
       (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  
  </article>
  
      </div>
    </section>

    <footer class="row">
      <div class="sixteen columns">
        <p class="small">Powered by <a href="http://pelican.readthedocs.org/">Pelican</a>.</p>
      </div>
    </footer>

  </div>

</body>
</html>